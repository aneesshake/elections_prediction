---
title: "Prediction of the 2020 Presidential Election"
subtitle: "Spoiler Alert: Biden Wins"
author: "Anees Shaikh, Jaffa Romain, Lu Mu, and Cameron Fryer"
thanks: "Code and data are available at: https://github.com/aneesshake/elections_prediction"
date: "`r format(Sys.time(), '%d %B %Y')`"
abstract: |
  | The purpose of this analysis is to forecast the results of the upcoming United States 2020 presidential election. In this paper, we first consider the Democracy Fund + UCLA Nationscape Wave 50 dataset, which contains the results of a survey (conducted June 25-July 1, 2020) on American voter attitudes. Thereafter, the survey data is used to train a model relating voter intent to a few explanatory variables. The model is then applied to the post-stratification dataset; namely, the results of the 2018 1-year American Community Survey (ACS). Since the ACS data pertains to individual persons and their characteristics, the associated use of our model allows us to conclude that Joe Biden will be the next President of the United States.|
Keywords: forecasting; US 2020 election; Trump; Biden; multilevel regression with post-stratification
output:
  bookdown::pdf_document2:
    citation_package: natbib
toc: FALSE
bibliography: references.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(tinytex)
library(readr)
library(here)
```

# Introduction

To accurately predict the winner of the United States 2020 presidential election is difficult, as many different factors are involved.
.....

# Data

Our data is of penguins (Figure \@ref(fig:bills)).

```{r bills, fig.cap="Bills of penguins", echo = FALSE}

```

Talk more about it.

Also bills and their average (Figure \@ref(fig:billssssss)). (Notice how you can change the height and width so they don't take the whole page?)

```{r billssssss, fig.cap="More bills of penguins", echo = FALSE, fig.width=8, fig.height=4}


```

Talk way more about it. 



# Model

In order to forecast the popular vote of the U.S 2020 elections, multilevel logistic regression with post-stratification (MRP) was used. The individual survey gives sample data on voters of the general U.S population, and post-stratification allows us to reweight estimates, adjusting bias between our sample and the target population, so that we have a representative sample of likely voters @ForecastingArticle. To achieve this, cells are constructed using variables in the cleaned Nationscape survey such as age, household income, and race. The model is then trained on the survey using the proportions given by the  ACS post-stratification data set. This approach gives us an advantage when attempted to forecast voting, as we can use a broad survey to speak to subsets in the population, and also tends to be less expensive to collect than non-probability samples @rohansmrp. However, using this approach places limitations on how much we can interpret from the estimates. Although we can estimate voting intention in different demographic groups, it doesn't tell us any qualitative information on voting patterns. For example, we might be able to see how different age categories vote, but we won't have a measure of the policy preferences, or their views on the candidates.

Using the Nationscape,  a multilevel logistic regression model can be fitted to the survey data set to model the proportion of voters who will vote for Trump.
Logistic regression can be used to model a binary dependent variable, which is the choice between the Republic candidate, Donald Trump, and the Democratic candidate, Joe Biden in our case. This would be the main reason for choosing this model, over another model such as a linear regression model, where the output isn't necessarily binary. However, this imposes limitations. As we cannot take into consideration any other candidates running in the election due to the binary outcome. Another weakness is **** The variable 'vote_2020' in the data set was used as dependent variable, with the variable return 1 for voters intending to vote for Trump, and 0. 


Our model uses the variables pertaining to age, state, race, sex, household income, and whether a voter is Hispanic to predict whether a respondent will vote for Trump or Biden in the elections. 
The model takes the form:
***  TO DO: Regression and Other Stories to cite equation **
$$ Pr(y_i = 1) = logit^-1(X_i *\beta) $$

where $y_i = 1$ represents a voter voting for Trump in the election.
$Pr(y_i = 1)$ is the probability of a voter choosing to vote for Trump.
The $X_i\beta$ are the linear predictors, where $\beta$ represents the fitted coefficients for each independent variable $X_i$ in the model. The coefficient values signify the mean variable changes in a one unit shift in the given variable $\beta$.
The logit function $logit(x) = log(x/1-x)$ maps the range (0, 1) to $(-\infty, \infty)$.
Its inverse function $logit^-1(x) = e^x/(1+e^x)$ maps back to the unit range. 
The model's output is bounded between 0 and 1,  mapping the outputs into a binary outcome. The output tells us the probability that some person $i$, will vote for Trump depends on their age, sex, state, household income, and whether the voter is Hispanic. 

We are running our regression model using the 'glm()' function in [R]. The fitted model results in the following coefficients:
```{r}


#Loading in the final model and the coefficents of the model in this cell. Please note that the outputs of those models are being stored in the outputs/model directory. The here package should give you the same result but if it doesn't then you may have to manually enter the same directory.
final_model <- readRDS(here::here("outputs/model","final_model.rds"))
coefficients <- readRDS(here::here("outputs/model","coefficients.rds"))

cor <- readRDS(here::here("outputs/model","cor.rds"))

```


# Results



All our analysis was done using R[@CiteR]


Comparisons to ACS data and Nationscape data


throw a few distributions in here to show the differences in distributions, and then tie each one in the discussion section to the potential implications of such a distribution. For instance, ACS data shows that there are more higher income earners than in Nationscape. Our model shows a strong effect between income and voting for a certain candidate.



## comparison on age

## comparison on race

##

# Discussion

## First discussion point




Talk about correlations between education and result

To begin this discussion, we begin with a quick explanation of the US Federal voting system. This context is important for us to understand some key points and drawbacks with interpreting our model.

Talk about previous research that has been done with similar models and the output of this model. Our model seems to indicate that Biden is going to win the popular vote. Throw some crap in here about 538 has certain polls that show a slight trump win. Show falling trump approvals and other things like that. This model has been thoroughly researched and has shown to be effective in multiple other contexts(needs citation)






One of the key things we have to explain here is how the electoral college works. Readers may remember the 2016 US election where Hillary Clinton won the popular vote, however, this didn't mean that she won the federal election. This was due to her not winning the electoral college. The electoral college is a body that is elected to determine who will be the next president of the US. This happened in 2000 when Bush didn't win the popular vote, but did end up winning the electoral college
## Second discussion point

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

# Appendix {-}

\newpage


# References

Tausanovitch, Chris and Lynn Vavreck. 2020. Democracy Fund + UCLA Nationscape, October 10-17, 2019 (version 20200814). Retrieved from [URL].


Steven Ruggles, Sarah Flood, Ronald Goeken, Josiah Grover, Erin Meyer, Jose Pacas and Matthew Sobek. IPUMS USA: Version 10.0 [dataset]. Minneapolis, MN: IPUMS, 2020. https://doi.org/10.18128/D010.V10.0